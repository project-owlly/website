<app-header [hideNav]="true"></app-header>

<main class="dark:bg-black">
  <div class="container mx-auto max-w-screen-xl">
    <ng-container *ngIf="userData$ | async as userData; else loadingUser">
      <app-textblock title="Vielen Dank, {{ userData?.given_name }}." text="" type="owlly"></app-textblock>
    </ng-container>

    <ng-container *ngIf="pdf$ | async as pdf; else loadingPdf">
      <ng-container *ngIf="pdf.status.owlly == false">
        <p class="font-light text-2xl px-6 dark:text-white">Fehlermeldung: {{ pdf.message }}</p>

        <!--<div class="mx-auto max-w-screen-xl px-6 pt-6 text-center md:text-left">
          
          <div class="grid grid-cols-2 md:grid-cols-3 md:gap-6 gap-2">
            <div class="text-center rounded md:pt-20 md:pb-16 pt-4 pb-2 dark:bg-gray-900">
              <fa-icon *ngIf="pdf.status.owlly === true" [icon]="faCheckCircle" class="md:text-6xl text-2xl text-primary dark:text-white"></fa-icon>
              <fa-icon *ngIf="!pdf.status.owlly === true" [icon]="faTimesCircle" class="md:text-6xl text-2xl text-black dark:text-white"></fa-icon>
              <p class="dark:text-white text-lg md:pt-4 font-light">Status owlly</p>
            </div>
            <div class="text-center rounded md:pt-20 md:pb-16 pt-4 pb-2 dark:bg-gray-900">
              <fa-icon *ngIf="pdf.status.ots === true" [icon]="faCheckCircle" class="md:text-6xl text-2xl text-primary dark:text-white"></fa-icon>
              <fa-icon *ngIf="!pdf.status.ots == true" [icon]="faTimesCircle" class="md:text-6xl text-2xl text-black dark:text-white"></fa-icon>
              <p class="dark:text-white text-lg md:pt-4 font-light">Status Blockchain</p>
            </div>
            <div class="text-center rounded md:pt-20 md:pb-16 pt-4 pb-2 dark:bg-gray-900">
              <fa-icon *ngIf="pdf.status.skribble === true" [icon]="faCheckCircle" class="md:text-6xl text-2xl text-primary dark:text-white"></fa-icon>
              <fa-icon *ngIf="!pdf.status.skribble === true" [icon]="faTimesCircle" class="md:text-6xl text-2xl text-black dark:text-white"></fa-icon>
              <p class="dark:text-white text-lg md:pt-4 font-light">Status Skribble</p>
            </div>
          </div>
        </div>-->

        <div class="flex flex-row">
          <div class="text-center flex-auto">
            <app-button href="/" class="py-10">Weiter</app-button>
          </div>
        </div>
      </ng-container>

      <ng-container *ngIf="userData$ | async as userData" class="px-6">
        <ng-container *ngIf="pdf.url !== undefined && pdf.status.owlly == true">
          <!-- DAS HIER SOLLTE EIN EIGENE COMP WERDEN-->
          <div class="font-light text-2xl dark:text-white px-6">
            Wir haben von Dir alle erforderlichen Informationen erhalten und deinen persönlichen Unterschriftenbogen erstellt!

            <!--<div class="mx-auto max-w-screen-xl px-6 pt-6 text-center md:text-left">
              
              <div class="grid grid-cols-2 md:grid-cols-3 md:gap-6 gap-2">
                <div class="text-center rounded md:pt-20 md:pb-16 pt-4 pb-2 dark:bg-gray-900">
                  <fa-icon *ngIf="pdf.status.owlly === true" [icon]="faCheckCircle" class="md:text-6xl text-2xl text-primary"></fa-icon>
                  <fa-icon *ngIf="!pdf.status.owlly === true" [icon]="faTimesCircle" class="md:text-6xl text-2xl text-black dark:text-white"></fa-icon>
                  <p class="dark:text-white text-lg md:pt-4 font-light">Status owlly</p>
                </div>
                <div class="text-center rounded md:pt-20 md:pb-16 pt-4 pb-2 dark:bg-gray-900">
                  <fa-icon *ngIf="pdf.status.ots === true" [icon]="faCheckCircle" class="md:text-6xl text-2xl text-primary"></fa-icon>
                  <fa-icon *ngIf="!pdf.status.ots === true" [icon]="faTimesCircle" class="md:text-6xl text-2xl text-black dark:text-white"></fa-icon>
                  <p class="dark:text-white text-lg md:pt-4 font-light">Status Blockchain</p>
                </div>
                <div class="text-center rounded md:pt-20 md:pb-16 pt-4 pb-2 dark:bg-gray-900">
                  <fa-icon *ngIf="pdf.status.skribble === true" [icon]="faCheckCircle" class="md:text-6xl text-2xl text-primary"></fa-icon>
                  <fa-icon *ngIf="!pdf.status.skribble === true" [icon]="faTimesCircle" class="md:text-6xl text-2xl text-black dark:text-white"></fa-icon>
                  <p class="dark:text-white text-lg md:pt-4 font-light">Status Skribble</p>
                </div>
              </div>
            </div>-->
          </div>
          <div class="mx-auto max-w-screen-xl px-6 pt-6 text-center md:text-left">
            <p class="font-bold text-2xl dark:text-white pb-4">Das sind die nächsten Schritte</p>
            <div class="grid grid-cols-2 md:grid-cols-3 md:gap-6 gap-2">
              <div class="text-center rounded md:pt-20 md:pb-16 pt-4 pb-2 dark:bg-gray-900">
                <fa-icon [icon]="faFileAlt" class="md:text-6xl text-2xl text-primary"></fa-icon>
                <p class="dark:text-white text-lg md:pt-4 font-light">
                  1. Bogen mit elektronischer Identität erstellen &nbsp; <span><fa-icon [icon]="faCheckCircle" class="text-primary"></fa-icon></span>
                </p>
              </div>
              <div class="text-center rounded md:pt-20 md:pb-16 pt-4 pb-2 dark:bg-gray-900">
                <fa-icon [icon]="faFileSignature" class="md:text-6xl text-2xl text-black dark:text-white"></fa-icon>
                <p class="dark:text-white text-lg md:pt-4 font-light">2. Bogen signieren</p>
              </div>
              <div class="text-center rounded md:pt-20 md:pb-16 pt-4 pb-2 dark:bg-gray-900">
                <fa-icon [icon]="faFileExport" class="md:text-6xl text-2xl text-black dark:text-white"></fa-icon>
                <p class="dark:text-white text-lg md:pt-4 font-light">3. Bogen digital an owlly übermitteln</p>
              </div>
            </div>
          </div>
          <!-- DAS HIER SOLLTE EIN EIGENE COMP WERDEN-->
          <div class="flex flex-row">
            <div class="text-center flex-auto">
              <app-button (click)="navigate()" class="py-10">Weiter</app-button>
            </div>
          </div>
        </ng-container>
      </ng-container>
    </ng-container>
  </div>
</main>

<app-footer></app-footer>

<ng-template class="py-6 px-6 mx-auto max-w-screen-xl" #loadingUser>
  <app-textblock title="Wir sind gleich soweit" type="owlly" subtitle="Deine Daten werden gerade übertragen."> </app-textblock>
  <div class="animate-spin block text-4xl dark:text-white md:text-6xl text-center mx-auto py-6 px-6">
    <p><fa-icon [icon]="faSpinner"></fa-icon></p>
  </div>
</ng-template>

<ng-template class="py-6 px-6 mx-auto max-w-screen-xl" #loadingPdf>
  <p class="font-light text-2xl dark:text-white px-6">Einen Moment noch - wir generieren dein persönliches Dokument.</p>
  <div class="animate-spin block text-4xl md:text-6xl dark:text-white text-center mx-auto py-6 px-6">
    <p><fa-icon [icon]="faSpinner"></fa-icon></p>
  </div>
</ng-template>
