<app-header></app-header>

<main>
  <div class="container mx-auto max-w-screen-lg px-6 pt-10">
    <ng-container *ngIf="useData$ | async as userData; else loadingUser">
      <app-textblock title="Hallo {{ userData?.given_name }}" text="" type="owlly"></app-textblock>
    </ng-container>

    <ng-container *ngIf="pdf$ | async as pdf; else loadingPdf">
      <p *ngIf="pdf.url === undefined" class="font-light text-2xl">Die PDF Generierung hat nicht geklappt ðŸ¤”</p>

      <ng-container *ngIf="pdf.url !== undefined">
        <app-textblock
          title="Hallo {{ userData?.given_name }}"
          text="Wir haben von Dir alle erforderlichen Informationen erhalten und deinen persÃ¶nlichen Unterschriftenbogen erfolgreich erstellt!"
          type="owlly"
        ></app-textblock>

        <app-button (click)="navigate()" class="py-10">Weiter</app-button>
      </ng-container>
    </ng-container>
  </div>
</main>

<app-footer></app-footer>

<ng-template #loadingUser>
  <app-textblock title="Wir sind gleich soweit" type="owlly" subtitle="Deine Daten werden gerade Ã¼bertragen."></app-textblock>
</ng-template>

<ng-template #loadingPdf>
  <app-textblock title="Einen Moment noch" type="owlly" subtitle="Wir generieren dein persÃ¶nliches Dokument."></app-textblock>
</ng-template>
