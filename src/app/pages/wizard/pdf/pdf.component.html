<app-header></app-header>

<main class="dark:bg-black">
  <div class="container mx-auto max-w-screen-lg pt-10">
    <ng-container *ngIf="userData$ | async as userData; else loadingUser">
      <app-textblock title="Hallo {{ userData?.given_name }}" text="" type="owlly"></app-textblock>
    </ng-container>

    <ng-container *ngIf="pdf$ | async as pdf; else loadingPdf">
      <p *ngIf="pdf.url === undefined" class="font-light text-2xl">Die PDF Generierung hat nicht geklappt. Versuche es nochmals von vorne ðŸ¤”</p>
      <ng-container *ngIf="userData$ | async as userData">
        <ng-container *ngIf="pdf.url !== undefined">
          <div class="font-light text-xl dark:text-white">
            Wir haben von Dir alle erforderlichen Informationen erhalten und deinen persÃ¶nlichen Unterschriftenbogen erfolgreich erstellt!
          </div>

          <div class="flex flex-row">
            <div class="text-center flex-auto">
              <app-button (click)="navigate()" class="py-10">Weiter</app-button>
            </div>
          </div>
        </ng-container>
      </ng-container>
    </ng-container>
  </div>
</main>

<app-footer></app-footer>

<ng-template #loadingUser>
  <app-textblock title="Wir sind gleich soweit" type="owlly" subtitle="Deine Daten werden gerade Ã¼bertragen."> </app-textblock>
  <svg class="animate-spin h-5 w-5 mr-3 ..." viewBox="0 0 24 24">
    <!-- ... -->
  </svg>
</ng-template>

<ng-template #loadingPdf>
  <app-textblock title="Einen Moment noch" type="owlly" subtitle="Wir generieren dein persÃ¶nliches Dokument."> </app-textblock>
  <svg class="animate-spin h-5 w-5 mr-3 ..." viewBox="0 0 24 24">
    <!-- ... -->
  </svg>
</ng-template>
